[
  {
    "Id": "ExecuteActionsOnEntityList",
    "Title": {
      "default": "Execute actions on entity list"
    },
    "HelpText": {
      "default": "This action will execute the actions in the action list below for each entity from the <b>EntityName</b> entity collection.<br />To access field values from the currently iterated entity, in the actions from the list, you can use tokens that look like this: <b>[&lt;EntityName&gt;:&lt;EntityFieldName&gt;]</b>.<br/>To find the current item index use <b>[&lt;EntityName&gt;:$EntityIndex]</b> token which is 0-based."
    },
    "TypeStr": "DnnSharp.Common.Actions.Entities.ExecuteActionsOnEntityList, DnnSharp.Common.Actions",
    "Settings": {
      "Group": "Entities"
    },
    "Parameters": [
      {
        "Id": "EntityName",
        "Title": {
          "default": "Entity Name"
        },
        "HelpText": {
          "default": "Name of the entity list on which the actions execute. Can contain <a href=\"http://www.dnnsharp.com/dnn/modules/my-custom-tokens\" target=\"_blank\">My Tokens</a>."
        },
        "Type": "Text"
      },
      {
        "Id": "Filters",
        "Title": {
          "default": "Filters"
        },
        "HelpText": {
          "default": "Filter the entities in the list"
        },
        "Type": "NameValueCollection",
        "Settings": {
          "NameColumn": "Field",
          "ValueColumn": "Value",
          "ButtonName": "Add Filter"
        }
      },
      {
        "Id": "ContextBehavior",
        "Title": {
          "default": "Context Behavior"
        },
        "HelpText": {
          "default": "Depending on how you use this action, you might want to change the scope of the generated tokens<br/><b>Update all tokens in the original context</b> option will copy all the tokens generated in each iteration to the original context that was before this action<br/><b>Don't save the iteration tokens</b> option will NOT keep any tokens generated in this action, not even from one iteration to the other.<br/><b>Update the tokens in the initial context</b> option will allow you to save the tokens in the original context (before this action) and from one iteration to another IF the tokens exists in original context, meaning that you have to initialize them before this action."
        },
        "Type": "Select",
        "Settings": {
         "Items": {
           "UpdateAllTokens": {
             "default": "Update all tokens in the original context"
            },
           "NoPreserve": {
             "default": "Don't save the iteration tokens"
            },
           "UpdateInitialContextTokens" : {
             "default": "Update the tokens in the initial context"
           }
         }
        }
      },
      {
        "Id": "ActionList",
        "Title": {
          "default": "Action List"
        },
        "HelpText": {
          "default": "Actions that will be executed on each entity in the list"
        },
        "Type": "ActionList"
      },
      {
        "Id": "ContinueOnError",
        "Title": {
          "default": "Continue on error"
        },
        "HelpText": {
          "default": "Continues to the next iteration even if the current one failed to execute."
        },
        "Type": "Boolean"
      },
      {
        "Id": "OnError",
        "Title": {
          "default": "On Error"
        },
        "HelpText": {
          "default": "Actions that will be executed if an error is caught in one iteration. If Continue On Error is checked final actions like Display Message / Error won't be executed."
        },
        "Type": "ActionList"
      }
    ]
  }
]
