!function(angular){angular.module("ngMapPlaces",[]),function(){"use strict";var C,e=function(h,y,b,O,e,t,k,w,$){C=t;var M=this,A=e.startSymbol(),L=e.endSymbol();M.mapOptions,M.mapEvents,M.eventListeners,M.addObject=function(e,t){if(M.map){M.map[e]=M.map[e]||{};var o=Object.keys(M.map[e]).length;M.map[e][t.id||o]=t,M.map instanceof google.maps.Map&&("infoWindows"!=e&&t.setMap&&t.setMap&&t.setMap(M.map),t.centered&&t.position&&M.map.setCenter(t.position),"markers"==e&&M.objectChanged("markers"),"customMarkers"==e&&M.objectChanged("customMarkers"))}},M.deleteObject=function(e,t){if(t.map){var o=t.map[e];for(var n in o)o[n]===t&&(google.maps.event.clearInstanceListeners(t),delete o[n]);t.map&&t.setMap&&t.setMap(null),"markers"==e&&M.objectChanged("markers"),"customMarkers"==e&&M.objectChanged("customMarkers")}},M.observeAttrSetObj=function(e,t,o){if(t.noWatcher)return!1;for(var n=C.getAttrsToObserve(e),a=0;a<n.length;a++){var r=n[a];t.$observe(r,k.observeAndSet(r,o))}},M.zoomToIncludeMarkers=function(){if(null!=M.map.markers&&0<Object.keys(M.map.markers).length||null!=M.map.customMarkers&&0<Object.keys(M.map.customMarkers).length){var e=new google.maps.LatLngBounds;for(var t in M.map.markers)e.extend(M.map.markers[t].getPosition());for(var o in M.map.customMarkers)e.extend(M.map.customMarkers[o].getPosition());M.mapOptions.maximumZoom&&(M.enableMaximumZoomCheck=!0),M.map.fitBounds(e)}},M.objectChanged=function(e){!M.map||"markers"!=e&&"customMarkers"!=e||"auto"!=M.map.zoomToIncludeMarkers||M.zoomToIncludeMarkers()},M.initializeMap=function(){var o=M.mapOptions,e=M.mapEvents,t=M.map;if(M.map=w.getMapInstance(y[0]),k.setStyle(y[0]),t){var n=C.filter(b),a=C.getOptions(n),r=C.getControlOptions(n);for(var i in o=angular.extend(a,r),t){var p=t[i];if("object"==typeof p)for(var s in p)M.addObject(i,p[s])}M.map.showInfoWindow=M.showInfoWindow,M.map.hideInfoWindow=M.hideInfoWindow}o.zoom=o.zoom||15;var c=o.center,u=new RegExp($(A)+".*"+$(L));if(!o.center||"string"==typeof c&&c.match(u))o.center=new google.maps.LatLng(0,0);else if("string"==typeof c&&c.match(/^[0-9.-]*,[0-9.-]*$/)){var l=parseFloat(c.split(",")[0]),m=parseFloat(c.split(",")[1]);o.center=new google.maps.LatLng(l,m)}else if(!(c instanceof google.maps.LatLng)){var g=o.center;delete o.center,k.getGeoLocation(g,o.geoLocationOptions).then(function(e){M.map.setCenter(e);var t=o.geoCallback;t&&O(t)(h)},function(){o.geoFallbackCenter&&M.map.setCenter(o.geoFallbackCenter)})}for(var d in M.map.setOptions(o),e){var f=e[d],v=google.maps.event.addListener(M.map,d,f);M.eventListeners[d]=v}M.observeAttrSetObj(z,b,M.map),M.singleInfoWindow=o.singleInfoWindow,google.maps.event.trigger(M.map,"resize"),google.maps.event.addListenerOnce(M.map,"idle",function(){k.addMap(M),o.zoomToIncludeMarkers&&M.zoomToIncludeMarkers(),h.map=M.map,h.$emit("mapInitialized",M.map),b.mapInitialized&&O(b.mapInitialized)(h,{map:M.map})}),o.zoomToIncludeMarkers&&o.maximumZoom&&google.maps.event.addListener(M.map,"zoom_changed",function(){1==M.enableMaximumZoomCheck&&(M.enableMaximumZoomCheck=!1,google.maps.event.addListenerOnce(M.map,"bounds_changed",function(){M.map.setZoom(Math.min(o.maximumZoom,M.map.getZoom()))}))})},h.google=google;var z=C.orgAttributes(y),o=C.filter(b),n=C.getOptions(o,{scope:h}),a=C.getControlOptions(o),r=angular.extend(n,a),i=C.getEvents(h,o);if(Object.keys(i).length,M.mapOptions=r,M.mapEvents=i,M.eventListeners={},n.lazyInit){if(b.id&&0===b.id.indexOf(A,0)&&-1!==b.id.indexOf(L,b.id.length-L.length))var p=b.id.slice(2,-2),s=O(p)(h);else s=b.id;M.map={id:s},k.addMap(M)}else M.initializeMap();n.triggerResize&&google.maps.event.trigger(M.map,"resize"),y.bind("$destroy",function(){w.returnMapInstance(M.map),k.deleteMap(M)})};e.$inject=["$scope","$element","$attrs","$parse","$interpolate","Attr2MapOptions","NgMapPlaces","NgMapPlacesPool","escapeRegexpFilter"],angular.module("ngMapPlaces").controller("__MapControllerPlaces",e)}(),function(){"use strict";var r,i,p=[],s=[],o=function(e,t,o){var n=o.placesLazyLoadParams||o.placesLazyLoad;if(void 0===window.google||void 0===window.google.maps){s.push({scope:e,element:t,savedHtml:p[s.length]}),window.lazyLoadCallback=function(){r(function(){s.forEach(function(e){e.element.html(e.savedHtml),i(e.element.contents())(e.scope)})},100)};var a=document.createElement("script");a.src=n+(-1<n.indexOf("?")?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+a.src+'"]')||document.body.appendChild(a)}else t.html(p),i(t.contents())(e)},n=function(e,t){return t.placesLazyLoad,p.push(e.html()),t.placesLazyLoad,(void 0===window.google||void 0===window.google.maps)&&(e.html(""),{pre:o})},e=function(e,t){return i=e,r=t,{compile:n}};e.$inject=["$compile","$timeout"],angular.module("ngMapPlaces").directive("placesLazyLoad",e)}(),function(){"use strict";var e=function(e,u){var l=e;return{restrict:"A",require:"?ngModel",link:function(t,e,o,n){if("false"===o.placesAutoComplete)return!1;var a=l.filter(o),r=l.getOptions(a,{scope:t}),i=l.getEvents(t,a),p=new google.maps.places.Autocomplete(e[0],r);for(var s in i)google.maps.event.addListener(p,s,i[s]);var c=function(){u(function(){n&&n.$setViewValue(e.val())},100)};google.maps.event.addListener(p,"place_changed",c),e[0].addEventListener("change",c),o.$observe("types",function(e){if(e){var t=l.toOptionValue(e,{key:"types"});p.setTypes(t)}}),o.$observe("componentRestrictions",function(e){e&&p.setComponentRestrictions(t.$eval(e))})}}};e.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMapPlaces").directive("placesAutoComplete",e)}(),function(){"use strict";var t=/([\:\-\_]+(.))/g,o=/^moz([A-Z])/;angular.module("ngMapPlaces").filter("camelCase",function(){return function(e){return e.replace(t,function(e,t,o,n){return n?o.toUpperCase():o}).replace(o,"Moz$1")}})}(),function(){"use strict";angular.module("ngMapPlaces").filter("escapeRegexp",function(){return function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})}(),function(){"use strict";angular.module("ngMapPlaces").filter("jsonize",function(){return function(t){try{return JSON.parse(t),t}catch(e){return t.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}})}(),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,$interpolate,camelCaseFilter,jsonizeFilter,escapeRegExp){var exprStartSymbol=$interpolate.startSymbol(),exprEndSymbol=$interpolate.endSymbol(),orgAttributes=function(e){0<e.length&&(e=e[0]);for(var t={},o=0;o<e.attributes.length;o++){var n=e.attributes[o];t[n.name]=n.value}return t},getJSON=function(e){return e.match(/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/)&&(e="["+e+"]"),JSON.parse(jsonizeFilter(e))},getLatLng=function(e){var t=e;if(e[0].constructor==Array)if(e[0][0].constructor==Array&&2==e[0][0].length||e[0][0].constructor==Object){for(var o,n=[],a=0;a<e.length;a++)o=e[a].map(function(e){return new google.maps.LatLng(e[0],e[1])}),n.push(o);t=n}else t=e.map(function(e){return new google.maps.LatLng(e[0],e[1])});else!isNaN(parseFloat(e[0]))&&isFinite(e[0])&&(t=new google.maps.LatLng(t[0],t[1]));return t},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:output[0]instanceof Array&&output[0][0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);output=options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),google.maps.weather[capitalizedKey][input]):google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(new RegExp("^"+escapeRegExp(exprStartSymbol)))&&options.scope)try{var expr=input.replace(new RegExp(escapeRegExp(exprStartSymbol)),"").replace(new RegExp(escapeRegExp(exprEndSymbol),"g"),"");output=options.scope.$eval(expr)}catch(e){output=input}else output=input}}if(("center"==options.key||"position"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),"bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object)for(var key in(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]),output){var arr=output[key];"anchor"==key||"origin"==key||"labelOrigin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):"size"!=key&&"scaledSize"!=key||(output[key]=new google.maps.Size(arr[0],arr[1]))}return output},getAttrsToObserve=function(e){var t=[],o=new RegExp(escapeRegExp(exprStartSymbol)+".*"+escapeRegExp(exprEndSymbol),"g");if(!e.noWatcher)for(var n in e){var a=e[n];a&&a.match(o)&&t.push(camelCaseFilter(n))}return t},filter=function(e){var t={};for(var o in e)o.match(/^\$/)||o.match(/^ng[A-Z]/)||(t[o]=e[o]);return t},getOptions=function(e,t){t=t||{};var o={};for(var n in e)if(e[n]||0===e[n]){if(n.match(/^on[A-Z]/))continue;if(n.match(/ControlOptions$/))continue;"string"!=typeof e[n]?o[n]=e[n]:t.doNotConverStringToNumber&&e[n].match(/^[0-9]+$/)?o[n]=e[n]:o[n]=toOptionValue(e[n],{key:n,scope:t.scope})}return o},getEvents=function(r,e){var t={},o=function(e){return"_"+e.toLowerCase()},n=function(e){var t=e.match(/([^\(]+)\(([^\)]*)\)/),n=t[1],o=t[2].replace(/event[ ,]*/,""),a=$parse("["+o+"]");return function(e){var t=a(r);var o=n.split(".").reduce(function(e,t){return e[t]},r);o&&o.apply(this,[e].concat(t)),$timeout(function(){r.$apply()})}};for(var a in e)if(e[a]){if(!a.match(/^on[A-Z]/))continue;var i=a.replace(/^on/,"");i=(i=i.charAt(0).toLowerCase()+i.slice(1)).replace(/([A-Z])/g,o);var p=e[a];t[i]=new n(p)}return t},getControlOptions=function(e){var t={};if("object"!=typeof e)return!1;for(var o in e)if(e[o]){if(!o.match(/(.*)ControlOptions$/))continue;var n=e[o].replace(/'/g,'"');n=n.replace(/([^"]+)|("[^"]+")/g,function(e,t,o){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):o});try{var a=JSON.parse(n);for(var r in a)if(a[r]){var i=a[r];if("string"==typeof i?i=i.toUpperCase():"mapTypeIds"===r&&(i=i.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),"style"===r){var p=(o.charAt(0).toUpperCase()+o.slice(1)).replace(/Options$/,"")+"Style";a[r]=google.maps[p][i]}else a[r]="position"===r?google.maps.ControlPosition[i]:i}t[o]=a}catch(e){}}return t};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","$interpolate","camelCaseFilter","jsonizeFilter","escapeRegexpFilter"],angular.module("ngMapPlaces").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var n,a,e=function(e,t){return n=e,a=t,{load:function(e){var t=n.defer();if(void 0===window.google||void 0===window.google.maps){window.lazyLoadCallback=function(){a(function(){t.resolve(window.google)},100)};var o=document.createElement("script");o.src=e+(-1<e.indexOf("?")?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+o.src+'"]')||document.body.appendChild(o)}else t.resolve(window.google);return t.promise}}};e.$inject=["$q","$timeout"],angular.module("ngMapPlaces").service("GoogleMapsApi",e)}()}(dnnsfAngular15||angular);