[{
    "Title": "File Manager",
    "Name": "file-manager",
    "Categories": ["Files"],
    "TypeStr": "avt.ActionForm.Core.Input.FileManagerInput,avt.ActionForm.Core",
    "JsIncludes": [
        "[commonUrl]/static/angular15/file-manager/bs-contextMenu.min.js",
        "[commonUrl]/static/angular15/angular-confirm/ng-confirm.min.js",
        "[commonUrl]/static/upload/dropzone.min.js",
        "[commonUrl]/static/angular15/file-manager/file-manager.js"
    ],
    "HelpText": {
        "default": "This field gives you the ability to browse files from the DNN File Manager, as well as uploading new files to the selected folder. Supports single and multiple file uploads. The files retrieved from the server can be filtered by their extension.<br />If this is used to upload images, they can be resized in the browser, before uploading them to the server. This way you can save bandwidth and speed up the upload process.<br />This field can also be used as an helper field when the <b>Display in popup</b> is enabled. You can both upload files and select existing files, and when the modal is commited, you will have access to the selected files and the files in the upload queue using the <b>Callback</b> setting.<br />This field will generate the following tokens: [&lt;FieldName&gt;] (file name on the server), [&lt;FieldName&gt;:FileIds], [&lt;FieldName&gt;:Filestates] (file States: new/selected/existing/delete), [&lt;FieldName&gt;:Count], [&lt;FieldName&gt;:PortalRelativeUrls], [&lt;FieldName&gt;:RelativeUrls], [&lt;FieldName&gt;:Filenames], [&lt;FieldName&gt;:FolderId], [&lt;FieldName&gt;:FolderPath]"
    },
    "CssIncludes": [
        "[commonUrl]/static/angular15/angular-confirm/ngconfirm.min.css",
        "[commonUrl]/static/upload/dropzone.css"
    ],
    "Settings": {
        "TemplateFile": "controls/file-manager.xsl"
    },
    "Parameters": [{
            "Id": "DisplayInPopup",
            "Title": { "default": "Display in Popup" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "If this parameter is set the file manager will not be displayed in the form, making it available to be displayed in popup." }
        },
        {
            "Id": "DefaultBrowseView",
            "Title": { "default": "Default Browse Files View" },
            "Type": "Select",
            "DefaultValue": { "default": "grid" },
            "Settings": {
                "Items": {
                    "grid": { "default": "Grid" },
                    "list": {"default": "List"}
                }
            },
            "HelpText": {"default": "This settings allows you to set the default Browse Files view, either thumbnails grid or a list with file names and sizes."}
        },
        {
            "Id": "ContainerClass",
            "Title": { "default": "Container Class" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "This css class will be added to FileManager container for custom bootstrap tabs styles provided by different skins." }
        },
        {
            "Id": "PopupWidth",
            "Title": { "default": "Popup Width" },
            "Type": "Text",
            "DefaultValue": { "default": "80%" },
            "HelpText": { "default": "Please set modal width CSS property(px,%,em)" },
            "Settings": {
                "ShowCondition": "itemParameters['DisplayInPopup']"
            }
        },
        {
            "Id": "PopupHeight",
            "Title": { "default": "Popup Height" },
            "Type": "Text",
            "DefaultValue": { "default": "auto" },
            "HelpText": { "default": "Please set modal height CSS property(px,%,em)" },
            "Settings": {
                "ShowCondition": "itemParameters['DisplayInPopup']"
            }
        },
        {
            "Id": "UploadMultiple",
            "Title": { "default": "Upload Multiple Files" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "Enables the support for multiple file upload." }
        },
        {
            "Id": "AutoUpload",
            "Title": { "default": "Auto upload Files" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "If this parameter is set the files will be automatically uploaded." }
        },
        {
            "Id": "FileSizeLimit",
            "Title": { "default": "File Size Limit" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "Optionally provide a file size(MB) to limit the upload. For example \"12.8\"." }
        },
        {
            "Id": "Folder",
            "Title": { "default": "Upload to Folder" },
            "Type": "Select",
            "DefaultValue": { "default": "/Temp" },
            "Settings": {
                "DataSource": "PortalFolderList",
                "SupportsExpressions": "true"
            }
        },
        {
            "Id": "FileExt",
            "Title": { "default": "File Types" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "Optionally provide a series of file types to limit the upload to these specific types. For example &quot;txt,cs,doc&quot;." }
        },
        {
            "Id": "RestrictedFileNameCharacters",
            "Title": { "default": "Restricted file name characters" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "Provide a string of characters that cannot be contained in a file name." }
        },
        {
            "Id": "RestrictedErrorMessage",
            "Title": { "default": "Restricted Error Message" },
            "Type": "Text",
            "DefaultValue": { "default": "Rename the file without restricted characters." },
            "HelpText": { "default": "Enter the display error message that will appear to the user when invalid characters specified above appear in the name of the uploaded file.Supports <a href=\"http://www.dnnsharp.com/dnn/modules/my-custom-tokens\" target=\"_blank\" tabindex=\"-1\">My Tokens</a>" },
            "Settings": {
                "ShowCondition": "itemParameters['RestrictedFileNameCharacters']"
            }
        },
        {
            "Id": "Pattern",
            "Title": { "default": "Filename Pattern" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": {
                "default": "Optionally provide a pattern to use for filenames on the server. For example &quot;[User:Username]-avatar&quot;. Leave blank to use the original filename. Here you can use [&lt;FieldName&gt;], [&lt;FieldName&gt;:FileName], [&lt;FieldName&gt;:FileExtension] (note the file name is before the duplication handling). Supports <a href=\"http://www.dnnsharp.com/dnn/modules/my-custom-tokens\" target=\"_blank\" tabindex=\"-1\">My Tokens</a>"
            }
        },
        {
            "Id": "ResizeMethod",
            "Type": "Select",
            "Title": {
                "default": "Resize Method"
            },
            "HelpText": {
                "default": "Determines how the images will be scaled down."
            },
            "Settings": {
                "Items": {
                    "contain": {
                        "default": "Keep Aspect Ratio"
                    },
                    "crop": {
                        "default": "Crop"
                    }
                }
            },
            "DefaultValue": {
                "default": "contain"
            }
        },
        {
            "Id": "ResizeWidth",
            "Title": { "default": "Width" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "Determines the image width in px." },
            "Settings": {
                "ShowCondition": "itemParameters['ResizeMethod'].Value"
            }
        },
        {
            "Id": "ResizeHeight",
            "Title": { "default": "Height" },
            "Type": "Text",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "Determines the image height in px." },
            "Settings": {
                "ShowCondition": "itemParameters['ResizeMethod'].Value"
            }
        },

        {
            "Id": "Duplicates",
            "Title": { "default": "Handle Duplicates" },
            "Type": "Select",
            "DefaultValue": { "default": "Rename" },
            "Settings": {
                "DataSource": "avt.ActionForm.Core.Services.eHandleDuplicates,avt.ActionForm.Core"
            }
        },
         {
            "Id": "DisplayTotalProgressBar",
            "Title": { "default": "Display total progress bar" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "" }
        },
        {
            "Id": "EnableFileBrowser",
            "Title": { "default": "Enable File Browser" },
            "Type": "Boolean",
            "DefaultValue": { "default": "true" },
            "HelpText": { "default": "If this is set to true the 'Upload' and 'Browse Files' tabs will be visible in File Manager." }
        },
        {
            "Id": "DisplayBtnInBrowser",
            "Title": { "default": "Display button in file browser" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "If this is set to true the button from file browser will be displayed." },
            "Settings": {
                "ShowCondition": "itemParameters['EnableFileBrowser']"
            }
        },
        {
            "Id": "CallBack",
            "Title": { "default": "JavaScript CallBack" },
            "Type": "Code",
            "DefaultValue": { "default": "" },
            "HelpText": { "default": "This javascript code will be executed when the 'Done' button from the File Browser tab is clicked. The 'files' javascript variable is automatically initialized with an object containing all files(filesInQueue and selectedFiles). Example: console.log(files.selectedFiles, files.filesInQueue);" },
            "Settings": {
                "ShowCondition": "itemParameters['DisplayBtnInBrowser'] && itemParameters['EnableFileBrowser']"
            }
        },
        {
            "Id": "DisplayBtnInUpload",
            "Title": { "default": "Display button in upload tab" },
            "Type": "Boolean",
            "DefaultValue": { "default": "true" },
            "HelpText": { "default": "If this is set to true the button from upload tab will be displayed." }
        },
        {
            "Id": "UploadButton",
            "Title": { "default": "Form Button" },
            "HelpText": { "default": "The selected button will be added in upload tab." },
            "Type": "FieldSelect",
            "Settings": {
                "FieldType": "button",
                "SupportsExpressions": "true",
                "ShowCondition": "itemParameters['DisplayBtnInUpload']"
            }
        },
        {
            "Id": "SaveToReport",
            "Title": { "default": "Save to Report" },
            "Type": "Boolean",
            "DefaultValue": { "default": "false" },
            "HelpText": { "default": "The field will be saved in Reports. If Enable Reports from General settings is not checked, this will be overridden." }
        },
        {
            "Id": "Actions",
            "Title": { "default": "For Each File" },
            "Type": "ActionList",
            "HelpText": {
                "default": "Execute actions on each uploaded file. Following tokens are available: [FileName], [RelativeUrl], [AbsoluteUrl], [FilePath](physical path), [LinkClick], [Stream](file stream, for example to upload into database), [Base64], [FileSize], [FileSizeB], [FileSizeKB], [FileSizeMB], [FileSizeGB], [MimeType], [FileId], [FolderId], [FolderPath], [FileExtension]. <br /> Also creates [FileOrThumbnailNameAndExtension]. This token contains the file name and extension, but if the field is used in a create thumbnail action it will be overwriten with then thumbnail value."
            },
            "Settings": {
                "Event": "click"
            }
        }

    ]
}]